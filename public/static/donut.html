<html>
   <head>
      <script type = "text/javascript" src = "https://d3js.org/d3.v7.min.js"></script>
      <style>
      </style>
    </head>
  <body>
    <div>
        <svg id="donut" width=500 height=500>
        </svg>
    </div>
    <script type="text/javascript">
        const donut_data = [{name: "Artiste", count: 50}, {name: "Association", count: 25}, {name: "Entreprise", count: 4}]
        const colors = ['#c92a2a', '#fa5252', '#ffa8a8']

        const pieArcData = d3.pie().value(d => d.count)(donut_data)
        const arc = d3.arc().innerRadius(210).outerRadius(310).padRadius(300).padAngle(5/300)

        const svg = d3.select('#donut')
        svg.attr('viewBox', "-320 -320 640 640")
            .append('g')
              .selectAll('path')
              .data(pieArcData)
              .enter()
              .append('path')
                .attr('d', (d) => arc(d))
                .attr('fill', (d, i) => colors[i])

        svg.append('g')
          .attr("font-family", "sans-serif")
          .attr("font-size", 26)
          .attr("text-anchor", "middle")
          .selectAll('text')
          .data(pieArcData)
          .enter()
          .append('text')
            .attr('transform', (d) => `translate(${arc.centroid(d).join(',')})`)
            .attr('fill', "white")
            .attr('stroke', 'black')
            .attr('stroke-width', '1')
            .text((d) => d.data.name+' : \n'+d.data.count)

    </script>
  </body>
</html>
